{"version":3,"file":"app.js","sourceRoot":"","sources":["../../MDCapture/app.ts"],"names":[],"mappings":";;AAAA,2DAAsD;AACtD,yCAAmD;AACnD,0CAAsC;AAItC,MAAM,eAAgB,SAAQ,mBAAQ;IAClC;QACE,KAAK,CACH,kBAAkB,CAAC,CAAA;IACvB,CAAC;IACS,YAAY,CAAE,MAAoB;QACxC,OAAO,qBAAS,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,oCAAgB,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,EAAC,IAAI,CAAC,CAAA;IAC7E,CAAC;CACN;AAED,MAAM,CAAC,GAAG,IAAI,eAAe,EAAE,CAAA;AAE/B,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,GAAE,EAAE;IACf,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAA;AAAA,CAAC,CAAC,CAAC","sourcesContent":["import { MarketDataClient } from './marketdata-client'\r\nimport { IJsFixConfig, initiator } from 'jspurefix'\r\nimport { Launcher } from '../launcher'\r\nimport { EventEmitter } from 'events';\r\nimport { resolve } from 'path';\r\n\r\nclass AppNfixLauncher extends Launcher {\r\n    public constructor () {\r\n      super(\r\n        './../config.json')\r\n    }\r\n    protected getInitiator (config: IJsFixConfig): Promise<any> {\r\n        return initiator(config, c => new MarketDataClient(c, this.appConfig),5000)\r\n      }\r\n}\r\n\r\nconst l = new AppNfixLauncher()\r\n\r\nl.run().then(()=>{\r\n  console.log('finished.')});\r\n\r\n// var failedAttemp:number = 0\r\n// while (failedAttemp < 10) {\r\n//   l.run().then(()=>{\r\n//       console.log('finished. Trying to restart')},\r\n//     () => {\r\n//       failedAttemp ++;\r\n//       console.log('Failed to connect. Trying to restart')\r\n//   })\r\n// }\r\n\r\n\r\n// setInterval(async () => {\r\n//   await l.run()\r\n// },5000)"]}